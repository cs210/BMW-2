{"version":3,"sources":["../../src/client/ClientEntryPoint.js"],"names":["qsOptions","querystring","parse","location","search","$","require","defaults","traceLevel","Lib","Trace","TRACE_NONE","delayInputCount","scheduler","syncOptions","sync","localObjBending","remoteObjBending","bendingIncrements","options","Object","assign","document","ready","focus","sendName","name","val","gamecode","length","playerOptions","playerName","privateCode","gameEngine","AsteroidsGameEngine","clientEngine","AsteroidsClientEngine","getElementById","style","display","start","window","alert","submit","click"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AACA,IAAMA,SAAS,GAAGC,wBAAYC,KAAZ,CAAkBC,QAAQ,CAACC,MAA3B,CAAlB;;AACA,IAAMC,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB,C,CAEA;AACA;;;AACA,IAAMC,QAAQ,GAAG;AACbC,EAAAA,UAAU,EAAEC,aAAIC,KAAJ,CAAUC,UADT;AAEbC,EAAAA,eAAe,EAAE,CAFJ;AAGbC,EAAAA,SAAS,EAAE,iBAHE;AAIbC,EAAAA,WAAW,EAAE;AACTC,IAAAA,IAAI,EAAEf,SAAS,CAACe,IAAV,IAAkB,aADf;AAETC,IAAAA,eAAe,EAAE,GAFR;AAGTC,IAAAA,gBAAgB,EAAE,GAHT;AAITC,IAAAA,iBAAiB,EAAE;AAJV;AAJA,CAAjB;AAWA,IAAIC,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAcd,QAAd,EAAwBP,SAAxB,CAAd;AAEAK,CAAC,CAACiB,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAM;AACpBlB,EAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBmB,KAAjB;;AACA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnB,QAAMC,IAAI,GAAGrB,CAAC,CAAC,aAAD,CAAD,CAAiBsB,GAAjB,EAAb;AACA,QAAIC,QAAQ,GAAGvB,CAAC,CAAC,iBAAD,CAAD,CAAqBsB,GAArB,EAAf;;AAEA,QAAIC,QAAQ,CAACC,MAAT,KAAoB,CAAxB,EAA2B;AACvBD,MAAAA,QAAQ,GAAG,QAAX;AACH;;AACD,QAAIF,IAAI,IAAIA,IAAI,CAACG,MAAL,GAAc,EAA1B,EAA8B;AAC1BV,MAAAA,OAAO,CAACW,aAAR,GAAwB;AACpBC,QAAAA,UAAU,EAAEL,IADQ;AAEpBM,QAAAA,WAAW,EAAEJ;AAFO,OAAxB,CAD0B,CAK1B;;AACA,UAAMK,UAAU,GAAG,IAAIC,+BAAJ,CAAwBf,OAAxB,CAAnB;AACA,UAAMgB,YAAY,GAAG,IAAIC,iCAAJ,CAA0BH,UAA1B,EAAsCd,OAAtC,CAArB;AACAG,MAAAA,QAAQ,CAACe,cAAT,CAAwB,qBAAxB,EAA+CC,KAA/C,CAAqDC,OAArD,GAA+D,MAA/D;AACAjB,MAAAA,QAAQ,CAACe,cAAT,CAAwB,uBAAxB,EAAiDC,KAAjD,CAAuDC,OAAvD,GAAiE,MAAjE;AACAJ,MAAAA,YAAY,CAACK,KAAb;AACH,KAXD,MAWO;AACHC,MAAAA,MAAM,CAACC,KAAP,CAAa,kDAAb;AACH;;AACD,WAAO,KAAP;AACH,GAtBD;;AAuBArC,EAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBsC,MAAhB,CAAuBlB,QAAvB;AACApB,EAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBuC,KAAlB,CAAwBnB,QAAxB;AACH,CA3BD","sourcesContent":["import querystring from 'query-string';\nimport { Lib } from 'lance-gg';\nimport AsteroidsClientEngine from '../client/AsteroidsClientEngine';\nimport AsteroidsGameEngine from '../common/AsteroidsGameEngine';\nconst qsOptions = querystring.parse(location.search);\nconst $ = require('jquery');\n\n// default options, overwritten by query-string options\n// is sent to both game engine and client engine\nconst defaults = {\n    traceLevel: Lib.Trace.TRACE_NONE,\n    delayInputCount: 5,\n    scheduler: 'render-schedule',\n    syncOptions: {\n        sync: qsOptions.sync || 'extrapolate',\n        localObjBending: 0.8,\n        remoteObjBending: 1.0,\n        bendingIncrements: 6\n    }\n};\nlet options = Object.assign(defaults, qsOptions);\n\n$(document).ready(() => {\n    $('#name-input').focus();\n    const sendName = () => {\n        const name = $('#name-input').val();\n        let gamecode = $('#gamecode-input').val();\n\n        if (gamecode.length === 0) {\n            gamecode = '/lobby';\n        }\n        if (name && name.length < 20) {\n            options.playerOptions = {\n                playerName: name,\n                privateCode: gamecode\n            };\n            // create a client engine and a game engine\n            const gameEngine = new AsteroidsGameEngine(options);\n            const clientEngine = new AsteroidsClientEngine(gameEngine, options);\n            document.getElementById('name-prompt-overlay').style.display = 'none';\n            document.getElementById('name-prompt-container').style.display = 'none';\n            clientEngine.start();\n        } else {\n            window.alert('Your name cannot be blank or over 20 characters.');\n        }\n        return false;\n    };\n    $('#name-form').submit(sendName);\n    $('#name-submit').click(sendName);\n});"],"file":"ClientEntryPoint.js"}