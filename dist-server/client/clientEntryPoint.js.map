{"version":3,"sources":["../../src/client/clientEntryPoint.js"],"names":["qsOptions","querystring","parse","location","search","$","require","defaults","traceLevel","Lib","Trace","TRACE_NONE","delayInputCount","scheduler","syncOptions","sync","localObjBending","remoteObjBending","bendingIncrements","options","Object","assign","document","ready","focus","sendName","name","val","gamecode","length","playerOptions","playerName","privateCode","verbose","gameEngine","AsteroidsGameEngine","clientEngine","AsteroidsClientEngine","getElementById","style","display","start","window","alert","submit","click"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AACA,IAAMA,SAAS,GAAGC,wBAAYC,KAAZ,CAAkBC,QAAQ,CAACC,MAA3B,CAAlB;;AACA,IAAMC,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB,C,CAEA;AACA;;;AACA,IAAMC,QAAQ,GAAG;AACbC,EAAAA,UAAU,EAAEC,aAAIC,KAAJ,CAAUC,UADT;AAEbC,EAAAA,eAAe,EAAE,CAFJ;AAGbC,EAAAA,SAAS,EAAE,iBAHE;AAIbC,EAAAA,WAAW,EAAE;AACTC,IAAAA,IAAI,EAAEf,SAAS,CAACe,IAAV,IAAkB,aADf;AAETC,IAAAA,eAAe,EAAE,GAFR;AAGTC,IAAAA,gBAAgB,EAAE,GAHT;AAITC,IAAAA,iBAAiB,EAAE;AAJV;AAJA,CAAjB;AAWA,IAAIC,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAcd,QAAd,EAAwBP,SAAxB,CAAd;AAEAK,CAAC,CAACiB,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAM;AACpBlB,EAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBmB,KAAjB;;AACA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnB,QAAMC,IAAI,GAAGrB,CAAC,CAAC,aAAD,CAAD,CAAiBsB,GAAjB,EAAb;AACA,QAAIC,QAAQ,GAAGvB,CAAC,CAAC,iBAAD,CAAD,CAAqBsB,GAArB,EAAf;;AAEA,QAAIC,QAAQ,CAACC,MAAT,KAAoB,CAAxB,EAA2B;AACvBD,MAAAA,QAAQ,GAAG,QAAX;AACH;;AACD,QAAIF,IAAI,IAAIA,IAAI,CAACG,MAAL,GAAc,EAA1B,EAA8B;AAC1BV,MAAAA,OAAO,CAACW,aAAR,GAAwB;AACpBC,QAAAA,UAAU,EAAEL,IADQ;AAEpBM,QAAAA,WAAW,EAAEJ,QAFO;AAGpBK,QAAAA,OAAO,EAAE;AAHW,OAAxB,CAD0B,CAM1B;;AACA,UAAMC,UAAU,GAAG,IAAIC,+BAAJ,CAAwBhB,OAAxB,CAAnB;AACA,UAAMiB,YAAY,GAAG,IAAIC,iCAAJ,CAA0BH,UAA1B,EAAsCf,OAAtC,CAArB;AACAG,MAAAA,QAAQ,CAACgB,cAAT,CAAwB,qBAAxB,EAA+CC,KAA/C,CAAqDC,OAArD,GAA+D,MAA/D;AACAlB,MAAAA,QAAQ,CAACgB,cAAT,CAAwB,uBAAxB,EAAiDC,KAAjD,CAAuDC,OAAvD,GAAiE,MAAjE;AACAJ,MAAAA,YAAY,CAACK,KAAb;AACH,KAZD,MAYO;AACHC,MAAAA,MAAM,CAACC,KAAP,CAAa,kDAAb;AACH;;AACD,WAAO,KAAP;AACH,GAvBD;;AAwBAtC,EAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBuC,MAAhB,CAAuBnB,QAAvB;AACApB,EAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBwC,KAAlB,CAAwBpB,QAAxB;AACH,CA5BD","sourcesContent":["import querystring from 'query-string';\r\nimport { Lib } from 'lance-gg';\r\nimport AsteroidsClientEngine from '../client/AsteroidsClientEngine';\r\nimport AsteroidsGameEngine from '../common/AsteroidsGameEngine';\r\nconst qsOptions = querystring.parse(location.search);\r\nconst $ = require('jquery');\r\n\r\n// default options, overwritten by query-string options\r\n// is sent to both game engine and client engine\r\nconst defaults = {\r\n    traceLevel: Lib.Trace.TRACE_NONE,\r\n    delayInputCount: 5,\r\n    scheduler: 'render-schedule',\r\n    syncOptions: {\r\n        sync: qsOptions.sync || 'extrapolate',\r\n        localObjBending: 0.8,\r\n        remoteObjBending: 1.0,\r\n        bendingIncrements: 6\r\n    }\r\n};\r\nlet options = Object.assign(defaults, qsOptions);\r\n\r\n$(document).ready(() => {\r\n    $('#name-input').focus();\r\n    const sendName = () => {\r\n        const name = $('#name-input').val();\r\n        let gamecode = $('#gamecode-input').val();\r\n\r\n        if (gamecode.length === 0) {\r\n            gamecode = '/lobby';\r\n        }\r\n        if (name && name.length < 20) {\r\n            options.playerOptions = {\r\n                playerName: name,\r\n                privateCode: gamecode,\r\n                verbose: true,\r\n            };\r\n            // create a client engine and a game engine\r\n            const gameEngine = new AsteroidsGameEngine(options);\r\n            const clientEngine = new AsteroidsClientEngine(gameEngine, options);\r\n            document.getElementById('name-prompt-overlay').style.display = 'none';\r\n            document.getElementById('name-prompt-container').style.display = 'none';\r\n            clientEngine.start();\r\n        } else {\r\n            window.alert('Your name cannot be blank or over 20 characters.');\r\n        }\r\n        return false;\r\n    };\r\n    $('#name-form').submit(sendName);\r\n    $('#name-submit').click(sendName);\r\n});"],"file":"clientEntryPoint.js"}