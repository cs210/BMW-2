{"version":3,"sources":["../../src/common/Bullet.js"],"names":["game","p2","Bullet","gameEngine","physicsEngine","physicsObj","Body","mass","damping","angularDamping","position","x","y","velocity","shape","Circle","radius","bulletRadius","collisionGroup","BULLET","collisionMask","ASTEROID","addShape","world","addBody","removeBody","other","PhysicalObject2D"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAIA,IAAI,GAAG,IAAX;AACA,IAAIC,EAAE,GAAG,IAAT;;IAEqBC,M;;;;;;;;;;;;;mCAEF;AACXF,MAAAA,IAAI,GAAG,KAAKG,UAAZ;AACAF,MAAAA,EAAE,GAAGD,IAAI,CAACI,aAAL,CAAmBH,EAAxB;AAEA,WAAKI,UAAL,GAAkB,IAAIJ,EAAE,CAACK,IAAP,CAAY;AAC1BC,QAAAA,IAAI,EAAE,KAAKA,IADe;AACTC,QAAAA,OAAO,EAAE,CADA;AACGC,QAAAA,cAAc,EAAE,CADnB;AAE1BC,QAAAA,QAAQ,EAAE,CAAC,KAAKA,QAAL,CAAcC,CAAf,EAAkB,KAAKD,QAAL,CAAcE,CAAhC,CAFgB;AAG1BC,QAAAA,QAAQ,EAAE,CAAC,KAAKA,QAAL,CAAcF,CAAf,EAAkB,KAAKE,QAAL,CAAcD,CAAhC;AAHgB,OAAZ,CAAlB,CAJW,CAUV;;AACD,UAAIE,KAAK,GAAG,IAAIb,EAAE,CAACc,MAAP,CAAc;AACtBC,QAAAA,MAAM,EAAEhB,IAAI,CAACiB,YADS;AAEtBC,QAAAA,cAAc,EAAElB,IAAI,CAACmB,MAFC;AAEO;AAC7BC,QAAAA,aAAa,EAAEpB,IAAI,CAACqB,QAHE,CAGO;;AAHP,OAAd,CAAZ;AAKA,WAAKhB,UAAL,CAAgBiB,QAAhB,CAAyBR,KAAzB;AACAd,MAAAA,IAAI,CAACI,aAAL,CAAmBmB,KAAnB,CAAyBC,OAAzB,CAAiC,KAAKnB,UAAtC;AACH;;;sCAEiBF,U,EAAY;AAC1BH,MAAAA,IAAI,CAACI,aAAL,CAAmBmB,KAAnB,CAAyBE,UAAzB,CAAoC,KAAKpB,UAAzC;AACH;;;2BAEMqB,K,EAAO;AACV,yEAAaA,KAAb;AACH;;;+BAEU;AACP;AACH;;;;EAhC+BC,yB","sourcesContent":["import { PhysicalObject2D } from 'lance-gg';\n\nlet game = null;\nlet p2 = null;\n\nexport default class Bullet extends PhysicalObject2D {\n\n    onAddToWorld() {\n        game = this.gameEngine;\n        p2 = game.physicsEngine.p2;\n\n        this.physicsObj = new p2.Body({\n            mass: this.mass, damping: 0, angularDamping: 0,\n            position: [this.position.x, this.position.y],\n            velocity: [this.velocity.x, this.velocity.y]\n        });\n\n         // Create bullet shape\n        let shape = new p2.Circle({\n            radius: game.bulletRadius,\n            collisionGroup: game.BULLET, // Belongs to the BULLET group\n            collisionMask: game.ASTEROID // Can only collide with the ASTEROID group\n        });\n        this.physicsObj.addShape(shape);\n        game.physicsEngine.world.addBody(this.physicsObj);\n    }\n\n    onRemoveFromWorld(gameEngine) {\n        game.physicsEngine.world.removeBody(this.physicsObj);\n    }\n\n    syncTo(other) {\n        super.syncTo(other);\n    }\n\n    toString() {\n        return `Bullet::${super.toString()}`;\n    }\n}\n"],"file":"Bullet.js"}